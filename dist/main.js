(()=>{"use strict";var e={56:(e,t,r)=>{e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},72:e=>{var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var a={},s=[],i=0;i<e.length;i++){var c=e[i],l=n.base?c[0]+n.base:c[0],u=a[l]||0,d="".concat(l," ").concat(u);a[l]=u+1;var h=r(d),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==h)t[h].references++,t[h].updater(p);else{var f=o(p,n);n.byIndex=i,t.splice(i,0,{identifier:d,updater:f,references:1})}s.push(d)}return s}function o(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,o){var a=n(e=e||[],o=o||{});return function(e){e=e||[];for(var s=0;s<a.length;s++){var i=r(a[s]);t[i].references--}for(var c=n(e,o),l=0;l<a.length;l++){var u=r(a[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}a=c}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},208:(e,t,r)=>{r.d(t,{A:()=>i});var n=r(601),o=r.n(n),a=r(314),s=r.n(a)()(o());s.push([e.id,".board {\n  display: grid;\n  grid-template-columns: repeat(10, 30px);\n  grid-template-rows: repeat(10, 30px);\n  gap: 2px;\n  margin: 10px;\n}\n\n.cell {\n  width: 30px;\n  height: 30px;\n  background-color: white;\n  border: 1px solid black;\n}\n\n.cell.ship {\n  background-color: #6fcaff;\n}\n\n.cell.hit {\n  background-color: red;\n}\n\n.cell.miss {\n  background-color: gray;\n}",""]);const i=s},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r}).join("")},t.i=function(e,r,n,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(n)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(s[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);n&&s[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),r&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=r):u[2]=r),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},601:e=>{e.exports=function(e){return e[1]}},659:e=>{var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,o&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var a=r.sourceMap;a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={id:n,exports:{}};return e[n](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.nc=void 0;class n{constructor(e){this.length=e,this.hits=0,this.sunk=!1}hit(){this.hits!==this.length&&(this.hits+=1)}isSunk(){return this.hits===this.length&&(this.sunk=!0),this.sunk}}class o{constructor(){this.board=[["A1","A2","A3","A4","A5","A6","A7","A8","A9","A10"],["B1","B2","B3","B4","B5","B6","B7","B8","B9","B10"],["C1","C2","C3","C4","C5","C6","C7","C8","C9","C10"],["D1","D2","D3","D4","D5","D6","D7","D8","D9","D10"],["E1","E2","E3","E4","E5","E6","E7","E8","E9","E10"],["F1","F2","F3","F4","F5","F6","F7","F8","F9","F10"],["G1","G2","G3","G4","G5","G6","G7","G8","G9","G10"],["H1","H2","H3","H4","H5","H6","H7","H8","H9","H10"],["I1","I2","I3","I4","I5","I6","I7","I8","I9","I10"],["J1","J2","J3","J4","J5","J6","J7","J8","J9","J10"]],this.shipSquares=[],this.hitSquares=[],this.targetedSquares=[]}placeShip(e,t){if(this.shipSquares.length>=5)throw new Error("There can only be 5 ships on the board!");if(!(e instanceof n))throw new Error("First parameter must be a ship");if(e.length>5||e.length<2)throw new Error("Ship must be within the lengths 2-5");if(!Array.isArray(t))throw new Error("Parameter must be array!");if(e.length!==t.length)throw new Error("Coordinates must correspond to ship length!");t=t.map(e=>e.trim().toUpperCase());for(let e of t)if(!this.board.some(t=>t.includes(e)))throw new Error("Please enter a coordinate on the board!");const r=this.shipSquares.flatMap(e=>e.coords);for(let e of t)if(r.includes(e))throw new Error(`${e} is already occupied!`);if(!this.#e(t)&&!this.#t(t))throw new Error(`Ship of length ${e.length} is not placed correctly! Must be placed in consecutive rows or columns`);this.shipSquares.push({ship:e,coords:t})}receiveAttack(e){if(e=e.trim().toUpperCase(),!this.board.some(t=>t.includes(e)))throw new Error("Please enter a coordinate on the board!");for(const{ship:t,coords:r}of this.shipSquares)if(r.includes(e))return this.hitSquares.push(e),this.targetedSquares.push(e),t.hit(),t.isSunk()&&console.log(`Ship of length ${t.length} has been sunk`),!this.checkIfAllSunk()||"All sunk";return this.targetedSquares.push(e),!1}checkIfAllSunk(){return this.shipSquares.every(({ship:e})=>e.isSunk())}#r(e){if("string"!=typeof e||e.length<2)throw new Error("Invalid coordinate input");const t=(e=e.trim())[0].toUpperCase(),r=parseInt(e.slice(1),10);if(isNaN(r)||r<1||r>10)throw new Error("Column must be between 1 and 10");if(t<"A"||t>"J")throw new Error("Row must be between A and J");return{row:t,col:r}}#e(e){const t=e.map(this.#r);if(!t.every(e=>e.row===t[0].row))return!1;const r=t.map(e=>e.col).sort((e,t)=>e-t);for(let e=1;e<r.length;e++)if(r[e]!==r[e-1]+1)return!1;return!0}#t(e){const t=e.map(this.#r);if(!t.every(e=>e.col===t[0].col))return!1;const r=t.map(e=>e.row.charCodeAt(0)).sort((e,t)=>e-t);for(let e=1;e<r.length;e++)if(r[e]!==r[e-1]+1)return!1;return!0}}class a{constructor(e){this.name=e,this.gameboard=new o,this.cpu=!1,this.turn=!1,this.targetedCoords=new Set}attack(e,t){return e.gameboard.receiveAttack(t)}fillBoardRandomly(){const e=[{length:2},{length:3},{length:3},{length:4},{length:5}];for(let t of e){let e=!1;for(;!e;){const r=Math.floor(10*Math.random()),o=Math.floor(10*Math.random()),a=Math.random()<.5,s=[];for(let e=0;e<t.length;e++){const t=a?r+e:r,n=a?o:o+e;if(t>9||n>9)break;const i=`${String.fromCharCode(65+n)}${t+1}`;s.push(i)}s.length===t.length&&this.#n(s)&&(this.gameboard.placeShip(new n(t.length),s),e=!0)}}}randomAttack(e){let t;do{const e=Math.floor(10*Math.random()),r=Math.floor(10*Math.random());t=`${String.fromCharCode(65+e)}${r+1}`}while(this.targetedCoords.has(t));return this.targetedCoords.add(t),e.gameboard.receiveAttack(t)}#n(e){const t=this.gameboard.shipSquares.flatMap(e=>e.coords);for(let r of e)if(t.includes(r))return!1;return!0}}function s(e,t,r=!1){e.innerHTML="";for(let n=0;n<t.board.length;n++)for(let o=0;o<t.board[n].length;o++){const a=t.board[n][o],s=document.createElement("div");s.classList.add("cell"),s.dataset.coord=a,!r&&t.shipSquares.some(e=>e.coords.includes(a))&&s.classList.add("ship"),t.hitSquares.includes(a)?s.classList.add("hit"):t.targetedSquares.includes(a)&&s.classList.add("miss"),e.appendChild(s)}}var i=r(72),c=r.n(i),l=r(825),u=r.n(l),d=r(659),h=r.n(d),p=r(56),f=r.n(p),m=r(540),g=r.n(m),v=r(113),b=r.n(v),w=r(208),y={};y.styleTagTransform=b(),y.setAttributes=f(),y.insert=h().bind(null,"head"),y.domAPI=u(),y.insertStyleElement=g(),c()(w.A,y),w.A&&w.A.locals&&w.A.locals,document.querySelector("#start").addEventListener("click",()=>function(){const e=new a("CPU");e.cpu=!0,e.turn=!0,e.fillBoardRandomly();const t=new a("Real");function r(e,t){return e.gameboard.checkIfAllSunk()?`${t.name} wins!`:t.gameboard.checkIfAllSunk()?`${e.name} wins!`:null}return t.fillBoardRandomly(),function(e,t,r){document.querySelector(".game-area");const n=document.querySelector("#p1-board"),o=document.querySelector("#p2-board");s(n,e.gameboard),s(o,t.gameboard,!0),o.addEventListener("click",a=>{if(!a.target.classList.contains("cell"))return;const i=a.target.dataset.coord;if(t.gameboard.targetedSquares.includes(i))return;e.attack(t,i),s(o,t.gameboard,!0);const c=r(e,t);if(c)return void console.log(c);t.randomAttack(e),s(n,e.gameboard);const l=r(e,t);l&&console.log(l)})}(t,e,r),{CPU:e,realPlayer:t,checkWinner:r}}(),{once:!0})})();